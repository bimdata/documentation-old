{% set rst_name = pagename.split("/") %}
{% if "index" not in pagename and "introduction" not in pagename %}
    {% set openapi_to_load = rst_name[1].split("_") %}
    {% set name_of_endpoint = openapi_to_load[0] %}

<script type="text/javascript" src="../_static/swagger-dist/swagger-ui-bundle.js"></script>
<script type="text/javascript" src="../_static/swagger-dist/swagger-ui-standalone-preset.js"></script>
<script>
    window.onload = function() {
    
        // Build a system
        const ui = SwaggerUIBundle({
            url: "https://api-staging.bimdata.io/doc/{{name_of_endpoint}}.json",
        dom_id: '#endpoint',
        defaultModelsExpandDepth: -1,
        docExpansion: "full",
        deepLinking: true,
        presets: [
            SwaggerUIBundle.presets.apis,
            SwaggerUIStandalonePreset
        ],
        plugins: [
            SwaggerUIBundle.plugins.DownloadUrl
        ],
        layout: "StandaloneLayout"
        })
    
        window.ui = ui
    }
</script>        
<style>

.information-container{
    display: none;
}

form.download-url-wrapper input,
form.download-url-wrapper select
{
    width: 500px;
}


.swagger-ui code {
    font-size: 12px;
}
</style>
<div id="endpoint"></div>
{% endif %}